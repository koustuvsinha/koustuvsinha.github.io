<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=generator content="Wowchemy 5.5.0 for Hugo"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Fira+Sans:wght@400;700&family=Roboto+Mono&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Fira+Sans:wght@400;700&family=Roboto+Mono&display=swap" media=print onload='this.media="all"'><meta name=author content="Koustuv Sinha"><meta name=description content="In my last blog post I described a method I use to keep track of my paper reading habits, using Emacs. Using the workflow, I can now:
Check the latest Arxiv papers using Elfeed Score the papers using Elfeed-Score Save the papers in a local bib file, along with pdfs, using org-ref functions Maintain a paper reading tracker document in Org Mode, where the workflow automatically adds the paper to read."><link rel=alternate hreflang=en-us href=https://koustuvsinha.com/post/emacs_org_protocol_arxiv/><meta name=theme-color content="#1565c0"><script src=/js/mathjax-config.js></script><link rel=stylesheet href=/css/vendor-bundle.min.c7b8d9abd591ba2253ea42747e3ac3f5.css media=print onload='this.media="all"'><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css integrity="sha512-W0xM4mr6dEP9nREo7Z9z+9X70wytKvMGeDsj7ps2+xg5QPrEBXC8tAW1IFnzjR6eoJ90JmCnFzerQJTLzIEHjA==" crossorigin=anonymous media=print onload='this.media="all"'><script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js integrity crossorigin=anonymous async></script><link rel=stylesheet href=/css/wowchemy.99ecbdcb5f73ec1ef08ee51f9bf420b0.css><link rel=stylesheet href=/css/libs/chroma/github-light.min.css title=hl-light media=print onload='this.media="all"'><link rel=stylesheet href=/css/libs/chroma/dracula.min.css title=hl-dark media=print onload='this.media="all"' disabled><link rel=manifest href=/manifest.webmanifest><link rel=icon type=image/png href=/media/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_32x32_fill_lanczos_center_3.png><link rel=apple-touch-icon type=image/png href=/media/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_180x180_fill_lanczos_center_3.png><link rel=canonical href=https://koustuvsinha.com/post/emacs_org_protocol_arxiv/><meta property="twitter:card" content="summary"><meta property="twitter:site" content="@koustuvsinha"><meta property="twitter:creator" content="@koustuvsinha"><meta property="og:site_name" content="Koustuv Sinha"><meta property="og:url" content="https://koustuvsinha.com/post/emacs_org_protocol_arxiv/"><meta property="og:title" content="Replicating Zotero-connector functionality in Emacs … without Zotero! | Koustuv Sinha"><meta property="og:description" content="In my last blog post I described a method I use to keep track of my paper reading habits, using Emacs. Using the workflow, I can now:
Check the latest Arxiv papers using Elfeed Score the papers using Elfeed-Score Save the papers in a local bib file, along with pdfs, using org-ref functions Maintain a paper reading tracker document in Org Mode, where the workflow automatically adds the paper to read."><meta property="og:image" content="https://koustuvsinha.com/media/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_512x512_fill_lanczos_center_3.png"><meta property="twitter:image" content="https://koustuvsinha.com/media/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_512x512_fill_lanczos_center_3.png"><meta property="og:locale" content="en-us"><meta property="article:published_time" content="2022-10-12T18:26:00-04:00"><meta property="article:modified_time" content="2022-10-12T18:26:00-04:00"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://koustuvsinha.com/post/emacs_org_protocol_arxiv/"},"headline":"Replicating Zotero-connector functionality in Emacs … without Zotero!","datePublished":"2022-10-12T18:26:00-04:00","dateModified":"2022-10-12T18:26:00-04:00","author":{"@type":"Person","name":"Koustuv Sinha"},"publisher":{"@type":"Organization","name":"Koustuv Sinha","logo":{"@type":"ImageObject","url":"https://koustuvsinha.com/media/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_192x192_fill_lanczos_center_3.png"}},"description":"In my last blog post I described a method I use to keep track of my paper reading habits, using Emacs. Using the workflow, I can now:\nCheck the latest Arxiv papers using Elfeed Score the papers using Elfeed-Score Save the papers in a local bib file, along with pdfs, using org-ref functions Maintain a paper reading tracker document in Org Mode, where the workflow automatically adds the paper to read."}</script><title>Replicating Zotero-connector functionality in Emacs … without Zotero! | Koustuv Sinha</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents class=page-wrapper data-wc-page-id=4d378d0f420298b4dd49baa24f8b97e9><script src=/js/wowchemy-init.min.df5b75624ac8e15e4f78f4316a963728.js></script><aside class=search-modal id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class=col-6><h1>Search</h1></div><div class="col-6 col-search-close"><a class=js-search href=# aria-label=Close><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box><input name=q id=search-query placeholder=Search... autocapitalize=off autocomplete=off autocorrect=off spellcheck=false type=search class=form-control aria-label=Search...></div></section><section class=section-search-results><div id=search-hits></div></section></div></aside><div class=page-header><header class=header--fixed><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container-xl><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/>Koustuv Sinha</a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar-content aria-expanded=false aria-label="Toggle navigation">
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/>Koustuv Sinha</a></div><div class="navbar-collapse main-menu-item collapse justify-content-end" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/#about><span>Home</span></a></li><li class=nav-item><a class="nav-link active" href=/post><span>Blog</span></a></li><li class=nav-item><a class=nav-link href=/activities><span>Activities</span></a></li><li class=nav-item><a class=nav-link href=/project><span>Projects</span></a></li><li class=nav-item><a class=nav-link href=/publication><span>Publications</span></a></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=# aria-label=Search><i class="fas fa-search" aria-hidden=true></i></a></li><li class="nav-item dropdown theme-dropdown"><a href=# class=nav-link data-toggle=dropdown aria-haspopup=true aria-label="Display preferences"><i class="fas fa-moon" aria-hidden=true></i></a><div class=dropdown-menu><a href=# class="dropdown-item js-set-theme-light"><span>Light</span>
</a><a href=# class="dropdown-item js-set-theme-dark"><span>Dark</span>
</a><a href=# class="dropdown-item js-set-theme-auto"><span>Automatic</span></a></div></li></ul></div></nav></header></div><div class=page-body><article class="article article-project"><div class="article-container pt-3"><h1>Replicating Zotero-connector functionality in Emacs … without Zotero!</h1><div class=article-metadata><span class=article-date>Oct 12, 2022
</span><span class=middot-divider></span>
<span class=article-reading-time>7 min read</span></div></div><div class=article-container><div class=article-style><p>In my <a href=/post/emacs_research_workflow/>last blog post</a> I described a method I use to keep track of my paper reading habits, using Emacs. Using the workflow, I can now:</p><ul><li>Check the latest Arxiv papers using <a href=https://github.com/skeeto/elfeed target=_blank rel=noopener>Elfeed</a></li><li>Score the papers using <a href=https://github.com/sp1ff/elfeed-score target=_blank rel=noopener>Elfeed-Score</a></li><li>Save the papers in a local bib file, along with pdfs, using <a href=https://github.com/jkitchin/org-ref target=_blank rel=noopener>org-ref</a> functions</li><li>Maintain a paper reading tracker document in <a href=https://orgmode.org/ target=_blank rel=noopener>Org Mode</a>, where the workflow automatically adds the paper to read.</li></ul><p>One crucial step I later realised which is missing from this workflow is the ability to store papers from my browser. Typically I do not read Elfeed <em>that</em> religiously - my main source of papers always has been recommendations from colleagues, Twitter, conference acceptance lists etc. Thus, I need a setup where I can easily save an interesting paper I&rsquo;m reading directly from the browser.</p><p><a href=https://www.zotero.org/ target=_blank rel=noopener>Zotero</a> is a great bibliography management software which allows you to do exactly that. After you install Zotero, you can install Zotero-connectors for the browser you use, and once you are in any PDF/journal/conference paper page, if you click the connector it automatically saves the file in your library, and downloads the pdf accordingly. With some extra plugins (Better Bibtex, Zutilo) you can also configure your setup such that once Zotero saves the PDF, it renames the file to proper naming conventions and moves the file to your desired location. Oh, also Zotero can be configured to automatically export a bibfile of your entire library, which you can load into Emacs using your favorite bibfile search library (<a href=https://rgoswami.me/posts/org-note-workflow/ target=_blank rel=noopener>Helm-bibtex</a>, <a href=https://emacsconf.org/2021/talks/research/ target=_blank rel=noopener>Citar</a>, <a href="https://irreal.org/blog/?p=5771" target=_blank rel=noopener>Zotxt</a> etc)!</p><p>However, I have one major gripe in this workflow : this doesn&rsquo;t allow me to update my paper reading org file once Zotero saves the pdf! I thought about various ways to fix this, including writing a Python file to add a watcher on my bibfile, get the latest changed bib, add a line in my org file. The problem with this approach is that Zotero updates the bibfile after formatting and sorting, so to get the last updated bib entry I need to maintain a state of history of the file. Furthermore, for <em>any</em> edits in the Zotero database, this watcher would run and add multiple lines of &ldquo;Read paper X&rdquo; in my paper reading list. There could be other easy ways to do this using Zotero, but I was out of ideas.</p><p>Plus, this post is not about Zotero, its about doing the same functionality in Emacs using existing libraries. How do we build a connector from browser? Also, I mostly read Arxiv papers anyway, so I would not need the power of 600+ Zotero translators written for various research paper sources, just the one for Arxiv. Enter <a href=https://orgmode.org/worg/org-contrib/org-protocol.html target=_blank rel=noopener>org-protocol</a>.</p><p>Org-Protocol is this wonderful library which allows Emacs to intercept calls from emacsclient. I got my initial motivation to use org-protocol from this cool package: <a href=https://github.com/mpedramfar/zotra target=_blank rel=noopener>Zotra</a>. What Zotra does is it runs the Zotero standalone <a href=https://github.com/zotero/translation-server/ target=_blank rel=noopener>translation server</a>, where the client can send an URL of a page containing a paper/PDF and get the formatted bibtex entry as output. One caveat of Zotra is that you need to run this external program via Docker on your machine, as running the standalone with <code>npm</code> <a href=https://github.com/zotero/translation-server/issues/139 target=_blank rel=noopener>rarely works</a>. Another caveat is that this translation server will return the bibtex entry <em>without</em> the PDF or link to PDF file in local, which is crucial for me to read the paper offline and through Helm-bibtex (checkout my last blog post). Having said that, Zotra gave me the idea to use org-protocol in the first place, for which I&rsquo;m glad I stumbled into it!</p><p>Configuring Org-Protocol is easy. First, you need to let org-protocol know what to run when it <em>encounters</em> a protocol. For that, you need to add an entry to the <code>org-protocol-protocol-alist</code> :</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-elisp data-lang=elisp><span class=line><span class=cl><span class=p>(</span><span class=nv>add-to-list</span> <span class=ss>&#39;org-protocol-protocol-alist</span>
</span></span><span class=line><span class=cl>             <span class=o>&#39;</span><span class=p>(</span><span class=s>&#34;arxiv-protocol&#34;</span>
</span></span><span class=line><span class=cl>               <span class=nb>:protocol</span> <span class=s>&#34;arxiv&#34;</span>
</span></span><span class=line><span class=cl>               <span class=nb>:function</span> <span class=nv>arxiv-protocol</span><span class=p>))</span>
</span></span></code></pre></div><p>How does org-protocol gets triggered in the first place? Open your browser and add the following bookmark (also known as bookmarklet), and name it as &ldquo;Save PDF&rdquo;:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>javascript:location.href=(&#39;org-protocol://arxiv?url=%27+%20encodeURIComponent(location.href)).replace(/%27/gi,%22%27%22)
</span></span></code></pre></div><p>If you click this bookmark link on any page, then it would popup a message : &ldquo;Open in Emacs?&rdquo;. What it does behind the scenes is that it runs a systemwide call in the <code>org-protocol</code> protocol, which is intercepted by emacsclient. Then, we define a <em>sub-protocol</em> named <code>arxiv</code>, which is used in the <code>location.href</code> bookmark, which uses a parameter <code>url</code>, where the current page url is encoded. Once you click OK to open the link in Emacs (set this to never ask you again in future), org-protocol now looks at the list <code>org-protocol-protocol-alist</code> to find whose <code>:protocol</code> matches the sub-protocol used in the call, and runs its corresponding <code>:function</code>.</p><p>Now, all we need to do is to define a function which:</p><ol><li>Inputs an Arxiv link (could be the PDF link or the Abstract link)</li><li>Fetches the PDF and bibtex from Arxiv</li><li>Stores the PDF into a predestined location, and adds the bibtex in my main bibfile</li><li>Add a note about this paper to read in my paper tracker org file.</li></ol><p>We are in luck! In my <a href=/post/emacs_research_workflow/>last blog post</a>, I wrote functions to do 2-4! Re-using the function again here:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-elisp data-lang=elisp><span class=line><span class=cl><span class=c1>;; Save arxiv pdf to local and maintain a bibfile for the newly added paper, and update papers.org</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=nb>defun</span> <span class=nv>my/save-arxiv-to-local-db</span> <span class=p>(</span><span class=nv>matched-arxiv-number</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;Save arxiv paper in local db
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s>- Update the bib entry with the pdf file location
</span></span></span><span class=line><span class=cl><span class=s>- Add a TODO entry in my papers.org to read the paper&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=nf>message</span> <span class=s>&#34;Going to arXiv: %s&#34;</span> <span class=nv>matched-arxiv-number</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=nb>let*</span> <span class=p>((</span><span class=nv>last-arxiv-key</span> <span class=s>&#34;&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>           <span class=p>(</span><span class=nv>last-arxiv-title</span> <span class=s>&#34;&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=p>(</span><span class=nv>arxiv-get-pdf-add-bibtex-entry</span> <span class=nv>matched-arxiv-number</span> <span class=nv>arxiv_bib</span> <span class=nv>arxiv_pdf_loc</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1>;; Now, we are updating the most recent bib file with the pdf location</span>
</span></span><span class=line><span class=cl>        <span class=p>(</span><span class=nf>message</span> <span class=s>&#34;Update bibtex with pdf file location&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>(</span><span class=nb>save-window-excursion</span>
</span></span><span class=line><span class=cl>                <span class=c1>;; Get the bib file</span>
</span></span><span class=line><span class=cl>                <span class=p>(</span><span class=nv>find-file</span> <span class=nv>arxiv_bib</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=c1>;; get to last line</span>
</span></span><span class=line><span class=cl>                <span class=p>(</span><span class=nf>goto-char</span> <span class=p>(</span><span class=nf>point-max</span><span class=p>))</span>
</span></span><span class=line><span class=cl>                <span class=c1>;; get to the first line of bibtex</span>
</span></span><span class=line><span class=cl>                <span class=p>(</span><span class=nv>bibtex-beginning-of-entry</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=p>(</span><span class=nb>let*</span> <span class=p>((</span><span class=nv>entry</span> <span class=p>(</span><span class=nv>bibtex-parse-entry</span><span class=p>))</span>
</span></span><span class=line><span class=cl>                        <span class=p>(</span><span class=nv>key</span> <span class=p>(</span><span class=nf>cdr</span> <span class=p>(</span><span class=nf>assoc</span> <span class=s>&#34;=key=&#34;</span> <span class=nv>entry</span><span class=p>)))</span>
</span></span><span class=line><span class=cl>                        <span class=p>(</span><span class=nv>title</span> <span class=p>(</span><span class=nv>bibtex-completion-apa-get-value</span> <span class=s>&#34;title&#34;</span> <span class=nv>entry</span><span class=p>))</span>
</span></span><span class=line><span class=cl>                        <span class=p>(</span><span class=nv>pdf</span> <span class=p>(</span><span class=nv>org-ref-get-pdf-filename</span> <span class=nv>key</span><span class=p>)))</span>
</span></span><span class=line><span class=cl>                        <span class=p>(</span><span class=nf>message</span> <span class=p>(</span><span class=nf>concat</span> <span class=s>&#34;checking for key: &#34;</span> <span class=nv>key</span><span class=p>))</span>
</span></span><span class=line><span class=cl>                        <span class=p>(</span><span class=nf>message</span> <span class=p>(</span><span class=nf>concat</span> <span class=s>&#34;value of pdf: &#34;</span> <span class=nv>pdf</span><span class=p>))</span>
</span></span><span class=line><span class=cl>                        <span class=p>(</span><span class=nb>when</span> <span class=p>(</span><span class=nf>file-exists-p</span> <span class=nv>pdf</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                        <span class=p>(</span><span class=nv>bibtex-set-field</span> <span class=s>&#34;file&#34;</span> <span class=nv>pdf</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                        <span class=p>(</span><span class=nb>setq</span> <span class=nv>last-arxiv-key</span> <span class=nv>key</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                        <span class=p>(</span><span class=nb>setq</span> <span class=nv>last-arxiv-title</span> <span class=nv>title</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                        <span class=p>(</span><span class=nv>save-buffer</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                        <span class=p>)))</span>
</span></span><span class=line><span class=cl>        <span class=c1>;; (message (concat &#34;outside of save window, key: &#34; last-arxiv-key))</span>
</span></span><span class=line><span class=cl>        <span class=c1>;; Add a TODO entry with the cite key and title</span>
</span></span><span class=line><span class=cl>        <span class=c1>;; This is a bit hacky solution as I don&#39;t know how to add the org entry programmatically</span>
</span></span><span class=line><span class=cl>        <span class=p>(</span><span class=nb>save-window-excursion</span>
</span></span><span class=line><span class=cl>          <span class=p>(</span><span class=nv>find-file</span> <span class=p>(</span><span class=nf>concat</span> <span class=nv>org-directory</span> <span class=s>&#34;papers.org&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>          <span class=p>(</span><span class=nf>goto-char</span> <span class=p>(</span><span class=nf>point-max</span><span class=p>))</span>
</span></span><span class=line><span class=cl>          <span class=p>(</span><span class=nf>insert</span> <span class=p>(</span><span class=nf>format</span> <span class=s>&#34;** TODO Read paper (cite:%s) %s&#34;</span> <span class=nv>last-arxiv-key</span> <span class=nv>last-arxiv-title</span><span class=p>))</span>
</span></span><span class=line><span class=cl>          <span class=p>(</span><span class=nv>save-buffer</span><span class=p>)</span>
</span></span><span class=line><span class=cl>          <span class=p>))</span>
</span></span><span class=line><span class=cl>  <span class=p>)</span>
</span></span></code></pre></div><p>All this function needs is the arxiv number of a given paper, which is typically in the format of <code>xxxx.xxxxx</code>. Then, using the mighty <a href=https://github.com/jkitchin/org-ref target=_blank rel=noopener>org-ref</a>, this function fetches the pdf from Arxiv, gets a bibtex entry, writes the entry in my local bibfile, and adds a &ldquo;TODO Read paper&rdquo; entry in my paper tracker.</p><p>Thus, I need to extract this arxiv number from a given URL. I now define the <code>arxiv-protocol</code> function which org-protocol expects to trigger:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-elisp data-lang=elisp><span class=line><span class=cl><span class=p>(</span><span class=nb>defun</span> <span class=nv>arxiv-protocol</span> <span class=p>(</span><span class=nv>info</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nb>let</span> <span class=p>((</span><span class=nv>url</span> <span class=p>(</span><span class=nf>plist-get</span> <span class=nv>info</span> <span class=nb>:url</span><span class=p>)))</span>
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=nf>message</span> <span class=p>(</span><span class=nf>format</span> <span class=s>&#34;Arxiv received: </span><span class=ss>`%s&#39;</span><span class=s>&#34;</span> <span class=nv>url</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=nb>let*</span> <span class=p>((</span><span class=nv>match-idx</span> <span class=p>(</span><span class=nf>string-match</span> <span class=s>&#34;arxiv.org/.../\\([0-9.]*\\)&#34;</span> <span class=nv>url</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=p>(</span><span class=nv>matched-arxiv-number</span> <span class=p>(</span><span class=nv>string-remove-suffix</span> <span class=s>&#34;.&#34;</span> <span class=p>(</span><span class=nv>match-string</span> <span class=mi>1</span> <span class=nv>url</span><span class=p>))))</span>
</span></span><span class=line><span class=cl>        <span class=p>(</span><span class=nf>message</span> <span class=p>(</span><span class=nf>format</span> <span class=s>&#34;Extracted Arxiv number: </span><span class=ss>`%s&#39;</span><span class=s>&#34;</span> <span class=nv>matched-arxiv-number</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=p>(</span><span class=nb>when</span> <span class=nv>matched-arxiv-number</span>
</span></span><span class=line><span class=cl>          <span class=p>(</span><span class=nv>my/save-arxiv-to-local-db</span> <span class=nv>matched-arxiv-number</span><span class=p>)))</span>
</span></span><span class=line><span class=cl>    <span class=no>nil</span><span class=p>))</span>
</span></span></code></pre></div><p>This function does the following:</p><ul><li>From a given Arxiv URL (either abstract or PDF) perform a string match to extract the number</li><li>For PDF links, this string match returns a number containing a trailing &ldquo;<code>.</code>&rdquo; (as our regexp expects <code>.</code> as well as numbers). Use <code>string-remote-suffix</code> to get rid of this trailing character.</li><li>Call the function to extract and save the pdf!</li></ul><figure><div class="d-flex justify-content-center"><div class=w-100><img src=/ox-hugo/org_protocol_arxiv_demo.gif alt loading=lazy data-zoomable></div></div></figure><p>Thats it, you have now replicated Zotero connector functionality <em>without</em> needing to have Zotero installed! It only works on Arxiv at the moment, but it is okay for now for me. In the future I&rsquo;ll investigate ways to get the entire Zotero translator functionalities directly in Emacs.</p><p>Thanks for reading!</p></div><div class=share-box><ul class=share><li><a href="https://twitter.com/intent/tweet?url=https://koustuvsinha.com/post/emacs_org_protocol_arxiv/&amp;text=Replicating%20Zotero-connector%20functionality%20in%20Emacs%20%e2%80%a6%20without%20Zotero!" target=_blank rel=noopener class=share-btn-twitter aria-label=twitter><i class="fab fa-twitter"></i></a></li><li><a href="https://www.facebook.com/sharer.php?u=https://koustuvsinha.com/post/emacs_org_protocol_arxiv/&amp;t=Replicating%20Zotero-connector%20functionality%20in%20Emacs%20%e2%80%a6%20without%20Zotero!" target=_blank rel=noopener class=share-btn-facebook aria-label=facebook><i class="fab fa-facebook"></i></a></li><li><a href="mailto:?subject=Replicating%20Zotero-connector%20functionality%20in%20Emacs%20%e2%80%a6%20without%20Zotero!&amp;body=https://koustuvsinha.com/post/emacs_org_protocol_arxiv/" target=_blank rel=noopener class=share-btn-email aria-label=envelope><i class="fas fa-envelope"></i></a></li><li><a href="https://www.linkedin.com/shareArticle?url=https://koustuvsinha.com/post/emacs_org_protocol_arxiv/&amp;title=Replicating%20Zotero-connector%20functionality%20in%20Emacs%20%e2%80%a6%20without%20Zotero!" target=_blank rel=noopener class=share-btn-linkedin aria-label=linkedin-in><i class="fab fa-linkedin-in"></i></a></li><li><a href="whatsapp://send?text=Replicating%20Zotero-connector%20functionality%20in%20Emacs%20%e2%80%a6%20without%20Zotero!%20https://koustuvsinha.com/post/emacs_org_protocol_arxiv/" target=_blank rel=noopener class=share-btn-whatsapp aria-label=whatsapp><i class="fab fa-whatsapp"></i></a></li><li><a href="https://service.weibo.com/share/share.php?url=https://koustuvsinha.com/post/emacs_org_protocol_arxiv/&amp;title=Replicating%20Zotero-connector%20functionality%20in%20Emacs%20%e2%80%a6%20without%20Zotero!" target=_blank rel=noopener class=share-btn-weibo aria-label=weibo><i class="fab fa-weibo"></i></a></li></ul></div><div class="media author-card content-widget-hr"><a href=https://koustuvsinha.com/><img class="avatar mr-3 avatar-circle" src=/authors/admin/avatar_hucc78bc830b96374f35a67d0f4452e819_1023205_270x270_fill_q75_lanczos_center.jpg alt="Koustuv Sinha"></a><div class=media-body><h5 class=card-title><a href=https://koustuvsinha.com/>Koustuv Sinha</a></h5><h6 class=card-subtitle>Research Scientist</h6><p class=card-text>My research interests include natural language processing with machine learning, computational linguistics and interpretable machine learning. I organize the annual <a href=https://paperswithcode.com/rc2021 target=_blank rel=noopener>ML Reproducibility Challenge</a>.</p><ul class=network-icon aria-hidden=true><li><a href=/#contact><i class="fas fa-envelope"></i></a></li><li><a href=https://twitter.com/koustuvsinha target=_blank rel=noopener><i class="fab fa-twitter"></i></a></li><li><a href="https://scholar.google.co.uk/citations?user=9P9QcckAAAAJ" target=_blank rel=noopener><i class="fas fa-graduation-cap"></i></a></li><li><a href=https://github.com/koustuvsinha target=_blank rel=noopener><i class="fab fa-github"></i></a></li><li><a href=https://www.linkedin.com/ target=_blank rel=noopener><i class="fab fa-linkedin"></i></a></li></ul></div></div><section id=comments><script src=https://utteranc.es/client.js repo=koustuvsinha/koustuvsinha.github.io issue-term=pathname label=comment theme=github-light crossorigin=anonymous async></script></section><div class="project-related-pages content-widget-hr"></div></div></article></div><div class=page-footer><div class=container><footer class=site-footer><p class="powered-by copyright-license-text">© 2024 Koustuv Sinha. This website is built using <a href=https://ox-hugo.scripter.co/ target=_blank rel=noopener>ox-hugo</a>, <a href=https://orgmode.org/ target=_blank rel=noopener>org-mode</a>, <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> and <a href=https://wowchemy.com/ target=_blank rel=noopener>Wowchemy</a>, on Emacs 28.1. Opinions expressed in this website are solely my own. While we strive for excellence in research, it is important to remember that <a href=https://www.facebook.com/nipsfoundation/videos/2120856364798049/ target=_blank rel=noopener><em>&ldquo;Science is not a competitive sport&rdquo;</em></a>.</p><p class="powered-by footer-license-icons"><a href=https://creativecommons.org/licenses/by-nc-nd/4.0 rel="noopener noreferrer" target=_blank aria-label="Creative Commons"><i class="fab fa-creative-commons fa-2x" aria-hidden=true></i>
<i class="fab fa-creative-commons-by fa-2x" aria-hidden=true></i>
<i class="fab fa-creative-commons-nc fa-2x" aria-hidden=true></i>
<i class="fab fa-creative-commons-nd fa-2x" aria-hidden=true></i></a></p><p class=powered-by>Published with <a href="https://wowchemy.com/?utm_campaign=poweredby" target=_blank rel=noopener>Wowchemy</a> — the free, <a href=https://github.com/wowchemy/wowchemy-hugo-themes target=_blank rel=noopener>open source</a> website builder that empowers creators.</p></footer></div></div><script src=/js/vendor-bundle.min.b4708d4364577c16ab7001b265a063a4.js></script><script id=search-hit-fuse-template type=text/x-template>
    <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
    </div>
  </script><script src=https://cdn.jsdelivr.net/gh/krisk/Fuse@v3.2.1/dist/fuse.min.js integrity="sha512-o38bmzBGX+hD3JHWUFCDA09btWaqrNmoJ3RXLlrysA7PP01Kgs4UlE4MhelE1v5dJR3+cxlR4qQlotsW7jKsnw==" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/gh/julmot/mark.js@8.11.1/dist/jquery.mark.min.js integrity="sha512-mhbv5DqBMgrWL+32MmsDOt/OAvqr/cHimk6B8y/bx/xS88MVkYGPiVv2ixKVrkywF2qHplNRUvFsAHUdxZ3Krg==" crossorigin=anonymous></script><script id=page-data type=application/json>{"use_headroom":true}</script><script src=/js/wowchemy-headroom.c251366b4128fd5e6b046d4c97a62a51.js type=module></script><script src=/en/js/wowchemy.min.c39e7089bc6025de17776cfb9e55c130.js></script><div id=modal class="modal fade" role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header><h5 class=modal-title>Cite</h5><button type=button class=close data-dismiss=modal aria-label=Close>
<span aria-hidden=true>&#215;</span></button></div><div class=modal-body><pre><code></code></pre></div><div class=modal-footer><a class="btn btn-outline-primary my-1 js-copy-cite" href=# target=_blank><i class="fas fa-copy"></i> Copy
</a><a class="btn btn-outline-primary my-1 js-download-cite" href=# target=_blank><i class="fas fa-download"></i> Download</a><div id=modal-error></div></div></div></div></div><script src=/js/wowchemy-publication.af9327db0521d4a01354bfc8b77a4324.js type=module></script></body></html>